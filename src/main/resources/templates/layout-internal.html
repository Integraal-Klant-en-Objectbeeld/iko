<!doctype html>
<!--suppress ALL -->
<html class="cds-theme-zone-white" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
    <head>
        <meta charset="UTF-8" />
        <title>IKO Admin</title>

        <!-- Preconnects for faster IBM CDN and other external resources -->
        <link rel="preconnect" href="https://1.www.s81c.com" crossorigin />
        <link
            rel="preconnect"
            href="https://cdnjs.cloudflare.com"
            crossorigin
        />
        <link rel="preconnect" href="https://unpkg.com" />

        <!-- HTMX -->
        <script
            src="https://unpkg.com/htmx.org@2.0.4"
            integrity="sha384-HGfztofotfshcF7+8n44JQL2oJmowVChPTg48S+jvZoztPfvwD79OC/LTtG6dMp+"
            crossorigin="anonymous"
        ></script>

        <!-- Carbon Web Components (IBM CDN, prebundled version) -->
        <link
            rel="stylesheet"
            href="https://1.www.s81c.com/common/carbon/web-components/version/v2.40.1/index.css"
        />

        <link
            rel="stylesheet"
            href="https://1.www.s81c.com/common/carbon/web-components/tag/v2/latest/themes.css"
        />

        <!-- IBM Plex font family (matches Carbon typography) -->
        <link
            rel="stylesheet"
            href="https://1.www.s81c.com/common/carbon-for-ibm-dotcom/tag/v1/latest/plex.css"
        />

        <!-- Highlight.js for code samples -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/styles/default.min.css"
        />
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/highlight.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.11.1/languages/yaml.min.js"></script>

        <!-- Carbon Loader (IBM CDN) -->
        <script
            type="module"
            src="/assets/js/carbon-components-loader.js"
        ></script>

        <!-- Application stylesheet -->
        <link rel="stylesheet" href="/assets/css/main.css" />
    </head>
    <body>
        <!--  Header  -->
        <cds-header aria-label="IBM Platform Name">
            <cds-header-menu-button
                button-label-active="Close menu"
                button-label-inactive="Open menu"
            >
            </cds-header-menu-button>

            <cds-header-name
                href="javascript:void(0)"
                hx-get="/admin"
                hx-push-url="true"
                hx-target="#view-panel"
                prefix="IKO"
                >[Platform]
            </cds-header-name>

            <!-- NO slot attribute here -->
            <cds-header-global-bar>
                <cds-link href="javascript:void(0)" class="header-user-name">
                    <span th:text="${username} ?: '&nbsp;'"
                        >Randell Bakker</span
                    >
                </cds-link>

                <cds-header-global-action
                    panel-id="switcher-panel"
                    tooltip-alignment="right"
                    tooltip-text="Open switcher"
                >
                    <svg
                        slot="icon"
                        aria-hidden="true"
                        focusable="false"
                        width="20"
                        height="20"
                        viewBox="0 0 32 32"
                    >
                        <path
                            d="M16 4a5 5 0 11-5 5 5 5 0 015-5m0-2a7 7 0 107 7A7 7 0 0016 2zM26 30H24V25a5 5 0 00-5-5H13a5 5 0 00-5 5v5H6V25a7 7 0 017-7h6a7 7 0 017 7z"
                        />
                    </svg>
                </cds-header-global-action>
            </cds-header-global-bar>

            <cds-header-panel id="switcher-panel" class="header-panel">
                <cds-tabs value="account">
                    <cds-tab value="account">Account</cds-tab>
                </cds-tabs>
                <cds-tab-panels>
                    <cds-tab-panel value="account">
                        <cds-structured-list>
                            <cds-structured-list-head>
                                <cds-structured-list-header-row>
                                    <cds-structured-list-header-cell
                                        >Snelkoppelingen</cds-structured-list-header-cell
                                    >
                                </cds-structured-list-header-row>
                            </cds-structured-list-head>

                            <cds-structured-list-body>
                                <cds-structured-list-row>
                                    <cds-structured-list-cell>
                                        <cds-link
                                            href="https://docs.integraal-klant-objectbeeld.nl"
                                            target="_blank"
                                            >Help</cds-link
                                        >
                                    </cds-structured-list-cell>
                                </cds-structured-list-row>

                                <cds-structured-list-row>
                                    <cds-structured-list-cell>
                                        <cds-link href="/logout">
                                            Afmelden
                                        </cds-link>
                                    </cds-structured-list-cell>
                                </cds-structured-list-row>
                            </cds-structured-list-body>
                        </cds-structured-list>
                    </cds-tab-panel>
                </cds-tab-panels>
            </cds-header-panel>
        </cds-header>
        <!--  Left side navigation  -->
        <div th:replace="~{fragments/internal/side-nav :: side-nav}"></div>

        <!--  Main content  -->
        <main>
            <cds-content id="app-content" class="cds-theme-zone-g10">
                <cds-grid condensed>
                    <cds-row>
                        <cds-col lg="13">
                            <section
                                id="view-panel"
                                layout:fragment="view-panel-content"
                                th:fragment="details"
                            >
                                <!-- Breadcrumb -->
                                <div
                                    id="breadcrumb"
                                    th:fragment="breadcrumb (entries)"
                                >
                                    <cds-breadcrumb
                                        no-trailing-slash
                                        th:if="${entries != null}"
                                    >
                                        <!-- Home -->
                                        <cds-breadcrumb-item>
                                            <cds-breadcrumb-link
                                                href="javascript:void(0)"
                                                >Home</cds-breadcrumb-link
                                            >
                                        </cds-breadcrumb-item>

                                        <!-- Dynamic items -->
                                        <cds-breadcrumb-item
                                            th:each="breadcrumb, iter : ${entries}"
                                        >
                                            <cds-breadcrumb-link
                                                href="javascript:void(0)"
                                                th:hx-get="${breadcrumb[1]}"
                                                hx-push-url="true"
                                                hx-target="#view-panel"
                                                th:attr="is-currentpage=${iter.last} ? 'true' : null"
                                                th:text="${breadcrumb[0]}"
                                            >
                                            </cds-breadcrumb-link>
                                        </cds-breadcrumb-item>
                                    </cds-breadcrumb>
                                </div>

                                <!-- Page header -->
                                <header
                                    id="page-header"
                                    th:fragment="page-header"
                                >
                                    <h4>
                                        <span
                                            th:text="${pageName} ?: '&nbsp;'"
                                        ></span>
                                    </h4>
                                    <h2><span th:text="${title}"></span></h2>
                                    <small>
                                        <em
                                            ><span
                                                th:text="${subtext ?: '&nbsp;'}"
                                            ></span
                                        ></em>
                                    </small>
                                </header>

                                <h4>Welcome to IKO</h4>
                                <img
                                    th:src="@{assets/tab-illo.png}"
                                    alt="Carbon illustration"
                                    width="640"
                                    height="498"
                                />
                            </section>
                        </cds-col>
                    </cds-row>
                </cds-grid>
            </cds-content>
        </main>

        <!--Modal container-->
        <div id="modal-container"></div>
        <script type="text/javascript">
            /*htmx.logAll();*/
            htmx.config.allowNestedOobSwaps = false; // Disable nested out-of-band swaps
        </script>
    </body>
</html>
