<!DOCTYPE html>
<html layout:decorate="~{layout-internal.html}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<body>
<!-- /* Content of this page will be decorated by the elements of layout-internal.html */ -->
<div layout:fragment="view-panel-content">
    <th:block th:fragment="details">
        <cds-content>
            <cds-tile>
                <cds-breadcrumb no-trailing-slash="">
                    <cds-breadcrumb-item>
                        <cds-breadcrumb-link visited="true">
                            Home
                        </cds-breadcrumb-link>
                    </cds-breadcrumb-item>
                    <cds-breadcrumb-item>
                        <cds-breadcrumb-link
                            href="javascript:void(0);"
                            hx-get="/admin/connectors"
                            hx-target="#view-panel"
                            is-currentpage="true"
                            hx-push-url="true">
                            Connectors
                        </cds-breadcrumb-link>
                    </cds-breadcrumb-item>
                </cds-breadcrumb>

                <h2 th:text="${connector.name}">Connector</h2>
                <p th:text="${connector.description}">Description</p>
                <cds-stack gap="8" th:if="${connector != null}">

                    <cds-table id="settings-table">
                        <cds-table-header-title slot="title">Settings</cds-table-header-title>
                        <cds-table-header-description slot="description">Settings for this connector
                        </cds-table-header-description>

                        <cds-table-toolbar slot="toolbar">
                            <cds-table-toolbar-content>
                                <cds-button
                                    th:hx-get="@{|${connector.id}/edit|}"
                                    hx-target="#view-panel"
                                >
                                    Edit connector
                                    <svg
                                        focusable="false"
                                        preserveAspectRatio="xMidYMid meet"
                                        xmlns="http://www.w3.org/2000/svg"
                                        fill="currentColor"
                                        aria-hidden="true"
                                        width="16"
                                        height="16"
                                        viewBox="0 0 32 32"
                                        slot="icon">
                                        <path
                                            d="M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"></path>
                                    </svg>
                                </cds-button>
                            </cds-table-toolbar-content>
                        </cds-table-toolbar>

                        <!-- Header -->
                        <cds-table-head>
                            <cds-table-header-row>
                                <cds-table-header-cell>
                                    Name
                                </cds-table-header-cell>
                                <cds-table-header-cell>
                                    Value
                                </cds-table-header-cell>
                            </cds-table-header-row>
                        </cds-table-head>
                        <cds-table-body id="instances">
                            <cds-table-row>
                                <cds-table-cell>Name</cds-table-cell>
                                <cds-table-cell th:text="${connector.name}"></cds-table-cell>
                            </cds-table-row>
                            <cds-table-row>
                                <cds-table-cell>Description</cds-table-cell>
                                <cds-table-cell th:text="${connector.description}"></cds-table-cell>
                            </cds-table-row>
                            <cds-table-row>
                                <cds-table-cell>Reference</cds-table-cell>
                                <cds-table-cell th:text="${connector.tag}"></cds-table-cell>
                            </cds-table-row>
                            <cds-table-row>
                                <cds-table-cell>Connector Code</cds-table-cell>
                                <cds-table-cell>
                                    <pre style="white-space: pre-wrap; word-wrap: break-word;">[[${connector.connectorCode}]]</pre>
                                </cds-table-cell>
                            </cds-table-row>
                        </cds-table-body>
                    </cds-table>

                    <cds-table id="instance-table">
                        <cds-table-header-title slot="title">Instances</cds-table-header-title>
                        <cds-table-header-description slot="description">Overview of all connectors instances
                        </cds-table-header-description>
                        <cds-table-toolbar slot="toolbar">
                            <cds-table-toolbar-content>
                                <cds-button
                                    th:hx-get="@{|/admin/connectors/${connector.id}/instances/create|}"
                                    hx-target="#view-panel"
                                    kind="primary"
                                >
                                    Add instance
                                    <svg
                                        focusable="false"
                                        preserveAspectRatio="xMidYMid meet"
                                        xmlns="http://www.w3.org/2000/svg"
                                        fill="currentColor"
                                        aria-hidden="true"
                                        width="16"
                                        height="16"
                                        viewBox="0 0 32 32"
                                        slot="icon">
                                        <path
                                            d="M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"></path>
                                    </svg>
                                </cds-button>
                            </cds-table-toolbar-content>
                        </cds-table-toolbar>
                        <!-- Header -->
                        <cds-table-head>
                            <cds-table-header-row>
                                <cds-table-header-cell>
                                    Name
                                </cds-table-header-cell>
                                <cds-table-header-cell>
                                    Description
                                </cds-table-header-cell>
                                <cds-table-header-cell>
                                    Reference
                                </cds-table-header-cell>
                                <cds-table-header-cell>
                                </cds-table-header-cell>
                            </cds-table-header-row>
                        </cds-table-head>
                        <cds-table-body id="instances">
                            <cds-table-row th:each="instance: ${instances}"
                                           th:hx-get="@{|/admin/connectors/${connector.id}/instances/${instance.id}|}"
                                           hx-target="#view-panel"
                                           hx-push-url="true"
                            >
                                <cds-table-cell th:text="${instance.name}"></cds-table-cell>
                                <cds-table-cell th:text="${instance.description}"></cds-table-cell>
                                <cds-table-cell th:text="${instance.tag}"></cds-table-cell>
                                <cds-table-cell>
                                    <cds-button kind="danger" hx-confirm="Are you sure you want to delete this instance?" th:hx-delete="@{|/admin/connectors/${connector.id}/instances/${instance.id}|}" hx-target="#view-panel">
                                        <svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-hidden="true" width="16" height="16" viewBox="0 0 32 32" slot="icon" class="cds--btn__icon"><path d="M12 12H14V24H12zM18 12H20V24H18z"></path><path d="M4 6V8H6V28a2 2 0 002 2H24a2 2 0 002-2V8h2V6zM8 28V8H24V28zM12 2H20V4H12z"></path></svg>
                                    </cds-button>
                                </cds-table-cell>
                            </cds-table-row>
                        </cds-table-body>
                    </cds-table>
                    <cds-table id="endpoints-table">
                        <cds-table-header-title slot="title">Endpoints</cds-table-header-title>
                        <cds-table-header-description slot="description">Overview of all connectors endpoints
                        </cds-table-header-description>
                        <cds-table-toolbar slot="toolbar">
                            <cds-table-toolbar-content>
                                <cds-button
                                    th:hx-get="@{|/admin/connectors/${connector.id}/endpoints/create|}"
                                    hx-target="#view-panel"
                                    kind="primary"
                                >
                                    Add endpoint
                                    <svg
                                        focusable="false"
                                        preserveAspectRatio="xMidYMid meet"
                                        xmlns="http://www.w3.org/2000/svg"
                                        fill="currentColor"
                                        aria-hidden="true"
                                        width="16"
                                        height="16"
                                        viewBox="0 0 32 32"
                                        slot="icon">
                                        <path
                                            d="M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"></path>
                                    </svg>
                                </cds-button>
                            </cds-table-toolbar-content>
                        </cds-table-toolbar>
                        <!-- Header -->
                        <cds-table-head>
                            <cds-table-header-row>
                                <cds-table-header-cell>
                                    Name
                                </cds-table-header-cell>
                                <cds-table-header-cell>
                                    Description
                                </cds-table-header-cell>
                                <cds-table-header-cell>
                                    Reference
                                </cds-table-header-cell>
                                <cds-table-header-cell>
                                </cds-table-header-cell>

                            </cds-table-header-row>
                        </cds-table-head>
                        <cds-table-body id="endpoints">
                            <cds-table-row th:each="endpoint: ${endpoints}"
                                           hx-target="#view-panel"
                                           hx-push-url="true"
                                           hx-trigger="click target:cds-table-cell[role='cell']"
                                           th:hx-get="@{|/admin/connectors/${connector.id}/endpoints/${endpoint.id}|}"
                            >
                                <cds-table-cell th:text="${endpoint.name}"></cds-table-cell>
                                <cds-table-cell th:text="${endpoint.description}"></cds-table-cell>
                                <cds-table-cell th:text="${endpoint.operation}"></cds-table-cell>
                                <cds-table-cell>
                                    <cds-button kind="danger" hx-confirm="Are you sure you want to delete this endpoint?" th:hx-delete="@{|/admin/connectors/${connector.id}/endpoints/${endpoint.id}|}" hx-target="#view-panel">
                                        <svg focusable="false" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill="currentColor" aria-hidden="true" width="16" height="16" viewBox="0 0 32 32" slot="icon" class="cds--btn__icon"><path d="M12 12H14V24H12zM18 12H20V24H18z"></path><path d="M4 6V8H6V28a2 2 0 002 2H24a2 2 0 002-2V8h2V6zM8 28V8H24V28zM12 2H20V4H12z"></path></svg>

                                    </cds-button>
                                </cds-table-cell>
                            </cds-table-row>
                        </cds-table-body>
                    </cds-table>
                </cds-stack>
            </cds-tile>
        </cds-content>
    </th:block>
</div>
</body>
</html>
