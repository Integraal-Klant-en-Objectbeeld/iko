<th:block th:fragment="relation-add">
    <cds-modal id="modal-container" size="md">
        <cds-modal-header>
            <cds-modal-close-button></cds-modal-close-button>
            <cds-modal-label>Add new Relation</cds-modal-label>
            <cds-modal-heading>Relation</cds-modal-heading>
        </cds-modal-header>
        <cds-modal-body>
            <!--<cds-modal-body-content description>
                Add a new relation to the profile
            </cds-modal-body-content>-->
            <cds-form-item>
                <cds-text-input name="sourceId"
                                label="Source"
                                placeholder="Source ID">
                </cds-text-input>
            </cds-form-item>
            <cds-form-item>
                <cds-text-input name="sourceToSearchMapping"
                                label="Source to Search mapping"
                                placeholder="Source to Search mapping">
                </cds-text-input>
            </cds-form-item>
            <cds-form-item>
                <cds-text-input name="searchId"
                                label="Search"
                                placeholder="Search ID">
                </cds-text-input>
            </cds-form-item>
            <cds-form-item>
                <cds-textarea name="transform"
                              label="Transform"
                              placeholder="JQ Transform">
                </cds-textarea>
            </cds-form-item>
            <input type="hidden" name="profileId" th:value="${profileId}"/>
        </cds-modal-body>
        <cds-modal-footer>
            <cds-modal-footer-button
                kind="secondary"
                hx-on:click="document.querySelector('cds-modal')?.toggleAttribute('open');">
                Cancel
            </cds-modal-footer-button>
            <cds-modal-footer-button
                hx-post="/admin/relations"
                hx-include="#modal-container *"
                hx-target="#relations"
                hx-swap="outerHTML"
                hx-on::after-request="document.querySelector('cds-modal')?.toggleAttribute('open');">
                Add
            </cds-modal-footer-button>
        </cds-modal-footer>
    </cds-modal>
</th:block>
